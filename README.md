# Pizza-Store-Analysis
## A short SQL query based analysis of a pizza store.

## Problem Statement
The objective of this project is to analyze the sales data from a pizza outlet to uncover critical business insights, such as identifying best-selling pizza types, understanding customer order patterns, and optimizing pricing strategies. The kaggle dataset depicted that the outlet faces challenges in understanding its peak sales periods, most popular pizzas, and which customer preferences drive revenue. The aim is to provide actionable insights that will help the business optimize operations, boost revenue, and improve customer satisfaction by making data-driven decisions.

## Technologies Used
* MySQL Workbench: For running and testing SQL queries.
* MS Excel: To understand and import the CSV data to the SQL Workbench.

## Steps to solve the problem:
* __Setup the Workbench__: Declare the database and the tables in SQL. Declare all the table headers with their appropriate datatypes. Use the import facility to import all the data from the .csv files to the SQL database.
* __Analysis using SQL Queries__: Calculate total revenue, average order value, and best-selling pizza types. Identify order patterns, such as the most frequent combinations of pizzas and peak order times. Determine which pizza sizes and categories (e.g., vegetarian or non-vegetarian) are the most popular. Understand how sales vary by day of the week or by month.


## Database Schema
The database consists of the following tables:

**Pizza**
* pizza_id: Unique identifier for each pizza
* type: Type of pizza
* size: Size of the pizza
* price: Price of the pizza
  
**Pizza Type**

* pizza_type_id: Unique identifier for each pizza type.
* name: Name of the pizza type
* category: Category of the pizza (e.g., vegetarian, non-vegetarian)
* ingredients: Ingredients of the pizza type
  
**Orders**

* order_id: Unique identifier for each order
* order_date: Date when the order was placed
* order_time: Time when the order was placed
  
**Order Details**

* order_details_id: Unique identifier for each order detail
* order_id: Unique identifier for each order (foreign key)
* pizza_id: Unique identifier for each pizza (foreign key)
* quantity: Quantity of the pizza ordered

  ## Questions answered by the analysis

Q1) Total pizzas ordered
~~~
SELECT COUNT(order_id) AS total_orders
FROM orders;
~~~

Q2) All available pizza types
~~~
SELECT 
    name, 
    category 
FROM 
    pizza_types;
~~~

Q3) Most ordered pizza
~~~
SELECT 
    pizza_id, 
    SUM(quantity) AS total_quantity
FROM 
    order_details
GROUP BY 
    pizza_id
ORDER BY 
    total_quantity DESC
LIMIT 1;
~~~

Q4) Total revenue generated by each pizza type
~~~
SELECT 
    p.pizza_type_id AS pizza_type,
    p.size AS pizza_size,
    SUM(od.quantity * p.price) AS total_revenue
FROM 
    order_details od
JOIN 
    pizzas p ON od.pizza_id = p.pizza_id
GROUP BY 
    p.pizza_type_id, p.size
ORDER BY 
    total_revenue DESC;
~~~
    
Q5) Peak sales by Date and Time
~~~
SELECT 
    DAYNAME(o.order_date) AS day_of_week,
    HOUR(o.order_time) AS hour_of_day,
    COUNT(od.order_id) AS total_orders
FROM 
    orders o
JOIN 
    order_details od ON o.order_id = od.order_id
GROUP BY 
    day_of_week, hour_of_day
ORDER BY 
    total_orders DESC;
~~~

Q6) BEst selling pizza ingredients
~~~
SELECT 
    pt.ingredients,
    COUNT(od.pizza_id) AS total_orders
FROM 
    order_details od
JOIN 
    pizzas p ON od.pizza_id = p.pizza_id
JOIN 
    pizza_types pt ON p.pizza_type_id = pt.pizza_type_id
GROUP BY 
    pt.ingredients
ORDER BY 
    total_orders DESC LIMIT 5;
~~~
    
Q7) Most preferable pizza size ordered by the customers 
~~~
SELECT 
    p.size AS pizza_size,
    COUNT(od.order_details_id) AS total_ordered
FROM 
    order_details od
JOIN 
    pizzas p ON od.pizza_id = p.pizza_id
GROUP BY 
    p.size
ORDER BY 
    total_ordered DESC LIMIT 3;
~~~

Q8) Monthly pizza sales trends
~~~
SELECT 
    MONTH(o.order_date) AS month,
    YEAR(o.order_date) AS year,
    COUNT(od.order_id) AS total_orders
FROM 
    orders o
JOIN 
    order_details od ON o.order_id = od.order_id
GROUP BY 
    year, month
ORDER BY 
    year, month;
~~~
    
Q10) Total rewvenue by pizza cateogry 
~~~
SELECT 
    pt.category,
    SUM(od.quantity * p.price) AS total_revenue
FROM 
    order_details od
JOIN 
    pizzas p ON od.pizza_id = p.pizza_id
JOIN 
    pizza_types pt ON p.pizza_type_id = pt.pizza_type_id
GROUP BY 
    pt.category
ORDER BY 
    total_revenue DESC;
~~~

Q11) Percentage contirbution of each type of pizza 
~~~
SELECT 
    p.pizza_type_id AS pizza_type,
    SUM(od.quantity * p.price) AS total_revenue,
    (SUM(od.quantity * p.price) / (SELECT SUM(quantity * price) 
                                   FROM order_details od 
                                   JOIN pizzas p ON od.pizza_id = p.pizza_id)) * 100 AS revenue_percentage
FROM 
    order_details od
JOIN 
    pizzas p ON od.pizza_id = p.pizza_id
GROUP BY 
    p.pizza_type_id
ORDER BY 
    revenue_percentage DESC;
~~~

Q12) The most expensive pizza

~~~
SELECT pizza_types.name, pizzas.price, pizza_types.ingredients
FROM pizza_types
INNER JOIN pizzas ON pizza_types.pizza_type_id = pizzas.pizza_type_id
ORDER BY pizzas.price DESC
LIMIT 1;
~~~

## Result of the Analysis

### Revenue Distribution by Pizza Type and Size
* Insight: Large pizzas generated the most revenue, accounting for nearly 50% of total sales. Among the pizza types, non-vegetarian pizzas contributed the highest revenue, especially large-sized "Thai Chicken" pizzas, which were the most ordered.
* Action: This insight suggests that promoting large-sized pizzas with popular toppings could increase average order value and total revenue.

### Peak Sales Periods by Day and Time
* Insight: The pizza outlet saw a significant increase in sales during afternoon serving times, particularly on Thursdays and MOndays between 12:00 PM and 13:00 PM. Sales were consistently lower throughout the week during ealy mornings and late night hours.
* Action: The outlet could benefit from offering special promotions or discounts during off-peak hours or increasing staff during peak periods to manage high customer demand.

### Top-Selling Pizza Ingredients
* Insight: Pepperoni, mushroom, onions and bell peppers were the most frequently ordered ingredients, making up a large portion of the top-selling pizzas. 
* Action: The business can create promotional deals or limited-time offers that feature these popular ingredients, appealing to customer preferences and potentially increasing sales.









